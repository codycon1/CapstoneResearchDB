{% extends 'base.html' %}
{% block content %}
    <div id="container">
        <h1>My Proposals</h1>
        <table>
            <thead>
            <tr>
                <th>Pending</th>
                <th>Description</th>
                <th>General project files</th>
                <th>Data Files</th>
                <th>Result Files</th>
            </tr>
            </thead>
            <tbody>
            {% for item in pending %}
                <tr>
                    <td>{{ item.projectTitle }}</td>
                    <td>{{ item.projectDescription }}</td>
                    <td><a href="{{ item.proposalFile.url }}">
                        <button type="button">Download</button>
                    </a></td>
                    <td><a href="{{ item.dataFile.url }}">
                        <button type="button">Download</button>
                    </a></td>
                    <td><a href="{{ item.resultFile.url }}">
                        <button type="button">Download</button>
                    </a></td>
                </tr>
            {% endfor %}
            </tbody>
            <thead>
            <tr>
                <th>Accepted</th>
                <th>Project Description</th>
                <th>General project files</th>
                <th>Data Files</th>
                <th>Result Files</th>
            </tr>
            </thead>
            <tbody>
            {% for item in accepted %}
                <tr>
                    <td>{{ item.projectTitle }}</td>
                    <td>{{ item.projectDescription }}</td>
                    <td><a href="{{ item.proposalFile.url }}">
                        <button type="button">Download</button>
                    </a></td>
                    <td><a href="{{ item.dataFiles.url }}">
                        <button type="button">Download</button>
                    </a></td>
                    <td><a href="{{ item.resultFiles.url }}">
                        <button type="button">Download</button>
                    </a></td>
                </tr>
                <tr>
                    <td></td>
                    <td>
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="type" value="general">
                            <input type="hidden" name="id" value="{{ item.id }}">
                            <input type="file" name="file"><br>
                            <input type="submit" name="Upload" value="Upload">
                        </form>
                    </td>
                    <td>
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="type" value="data">
                            <input type="hidden" name="id" value="{{ item.id }}">
                            <input type="file" name="file"><br>
                            <input type="submit" name="Upload" value="Upload">
                        </form>
                    </td>
                    <td>
                        <form method="post">
                            {% csrf_token %}
                            <input type="hidden" name="type" value="result">
                            <input type="hidden" name="id" value="{{ item.id }}">
                            <input type="file" name="file"><br>
                            <input type="submit" name="Upload" value="Upload">
                        </form>
                    </td>
                    {#                TODO: Hook up these buttons#}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
